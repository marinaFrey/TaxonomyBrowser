<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" type="text/css" href="style.css">
<head>
    <title>Taxonomy Browser</title>
    <meta charset="utf-8">
    
    <!--BOOTSTRAP-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    
    <!--D3-->
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script type='text/javascript' src="http://bost.ocks.org/mike/fisheye/fisheye.js?0.0.3"> </script>
    
    <script type="text/javascript" src="sunburst.js"></script>
    <script type="text/javascript" src="selectedVisualization.js"></script>
    <script type="text/javascript" src="specimensVisualization.js"></script>
	<script type="text/javascript" src="events.js"></script>
	<script type="text/javascript" src="dotsVisualization.js"></script>
	<script type="text/javascript" src="mapVisualization.js"></script>
	<script type="text/javascript" src="comboboxHandler.js"></script>
	<script type="text/javascript" src="popup.js"></script>
	<script type="text/javascript" src="selectedSpecimens.js"></script>
	<script type="text/javascript" src="numberOfSelectedViz.js"></script>
	<script type="text/javascript" src="parallelCoordinates.js"></script>
    
    <!--JQUERY-->
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>-->
	
    <!-- MAP -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpZxJKdEeziVgiM26XP7sh51GwmtBpPBg"type="text/javascript"></script>
    <!--<script language="javascript" src="https://maps.googleapis.com/maps/api/js?sensor=true&v=3"></script>-->
    
	<!-- TOOLTIP 
	<link href="tooltip/jquery.toolbar.css" rel="stylesheet" />
	<script src="tooltip/jquery.toolbar.js"></script>-->
	
</head>
<body>

<!-- MENU 
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	
	<div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
		</button>
		<a class="navbar-brand" rel="home" href="#">Taxonomy Browser</a>
	</div>
	
	<div class="collapse navbar-collapse">
		
		<ul class="nav navbar-nav">
			<li><a href="#">Analysis</a></li>
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">More Options <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">See Tables</a></li>
                <li class="divider"></li>
                <li><a href="#">About</a></li>
              </ul>
            </li>
		</ul>
		
		<div class="col-sm-1 col-md-1 pull-right">
        <button type="button" class="btn btn-default navbar-btn">Login</button>
		</form>
		</div>
		
	</div>
</div>-->


<div class="container-fluid">

	<h2>  </h2>
	
	<!-- SETTINGS -->
	<div class="row">
        <!-- radio buttons to select type of partitioning made in sunburst -->
		<div class="col-sm-4" >
			<form>
			<label><input type="radio" name="mode" value="count" style="vertical-align: bottom;" autocomplete="off"> By number of species </label>
			<label><input type="radio" name="mode" value="size" style="vertical-align: bottom;" autocomplete="off" checked > By number of specimens</label>
			</form>
		</div>
        <!-- icons for filtering -->
		<div class="col-sm-2" style="background-color:#75C9FF;webkit-border-radius: 11px;border-radius: 15px;text-align: center">
			<img name="filterRemoveButton" src="images/filter_remove.png" width="64" height="64" border="0" alt="javascript button" onClick="return removeFilters();">
			<img name="filterEditButton" src="images/filter_edit.png" width="64" height="64" border="0" alt="javascript button" onClick="return openFilters();">
			<img name="filterUpdateButton" src="images/filter_update.png" width="64" height="64" border="0" alt="javascript button" onClick="return applyFilters();">		
		</div>
        <!-- comboboxes for selecting variables to visualize -->
		<div class="col-sm-6"  id="comboboxes" style="text-align: right">

		</div>
	</div>
	
	<!-- VISUALIZATIONS -->
	<div class="row">
        <!-- sunburst -->
		<div class="col-sm-4"  id="viz" style="text-align:center"></div>
        <!-- specimens selected -->
		<div class="col-sm-2"  id="selected_view" ></div>
        <!-- other visualizations -->
		<div class="col-sm-6" id="right_viz" style="text-align:center">
            <!-- image that shows when there is nothing selected -->
            <img name="nosel"  src="images/no_selection.png" border="0" style="display:flex;justify-content:center;align-items:center;">
            <!-- image that shows when the filter removes all specimens -->
            <img name="nofiltersel"  src="images/no_filter_selection.png" border="0" style="display:none;justify-content:center;align-items:center;">
            <!-- visualizations -->
            <div id="sel_viz"></div>
            <!-- google maps API -->
            <div id="maps"> </div>
		</div>
			
	</div>
  
  <!-- CHOOSING VISUALIZATION -->
  <div class="row">
    <div class="col-sm-4" style="text-align:center"></div>
    <!-- text with number of specimens selected by filtering -->
    <div class="col-sm-2" style="text-align:center">
        <div id="number_sel_viz" height="100"></div>
    </div>
    <!-- icons for selecting wich visualization to show -->
    <div class="col-sm-6" style="text-align:center">
		<!--<img name="bars" src="images/bars.png" width="180" height="140" border="0" alt="javascript button" onClick="return showBars();"style= " border: 4px solid yellow;border-radius: 38px;" >-->
        <!--<img name="matrix" src="images/matriz.png" width="180" height="140" border="0" alt="javascript button" onClick="return addNode();"style=" border: 4px solid #6D6D6D;border-radius: 38px;" >-->
		<img name="coord" src="images/coord.png" width="150" height="120" border="0" alt="javascript button" onClick="return showParallelCoord();"style=" border: 4px solid #6D6D6D;border-radius: 38px;"  >
		<img name="dots" src="images/bullets.png" width="150" height="120" border="0" alt="javascript button" onClick="return showDots();"style=" border: 4px solid #6D6D6D;border-radius: 38px;" >
		<img name="map" src="images/map.png" width="150" height="120" border="0" alt="javascript button" onClick="return showMap();"style=" border: 4px solid #6D6D6D;border-radius: 38px;" >
	</div>
  
</div>

<!-- TOOLTIPS -->
<div id="tooltip" class="hidden">
    <p><strong><span id="name">100</span></strong></p>
	<!--<img name="infoButton" data-toggle="modal" data-target="#basicModal" src="images/info.png" width="32" height="32" border="0" alt="javascript button" onClick="return showNodeInfo();">
    <img name="addButton" data-toggle="modal" data-target="#basicModal" src="images/add.png" width="32" height="32" border="0" alt="javascript button" onClick="return addNode();">
    <img name="editButton" src="images/edit3.png" width="32" height="32" border="0" alt="javascript button" onClick="return editNode();">
	<img name="removeButton" src="images/remove.png" width="32" height="32" border="0" alt="javascript button" ><!--onClick="return removeNode();">-->
</div>

<!-- POPUP MODAL SPECIMENS-->
<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <!-- title -->
            <div class="modal-header" id="hder">
				<h4 class="modal-title" id="myModalLabel"></h4>
            </div>
            <!-- info -->
            <div class="modal-body" id="info-body">
				<div id="info_text"></div>
            </div>
            <!-- buttons -->
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
    </div>
  </div>
</div>

<!-- POPUP MODAL FILTERS-->
<div class="modal fade" id="filterModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <!-- title -->
            <div class="modal-header" id="hder">
				<h4 class="modal-title" id="filterModalLabel"></h4>
            </div>
            <!-- info -->
            <div class="modal-body" id="info-body">
				<div id="filters_info" style="text-align: center"></div>
				<div id="filters_add_button" style="text-align: left"></div>
            </div>
            <!-- buttons -->
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onClick="applyFilters();">Apply Filters</button>
        </div>
    </div>
  </div>
</div>

<script>

    var comboX;
    var comboY;
    var comboSize;
    var comboColor;
	
    var dynamicCheckbox;
    var dynamicCheckboxText;
    var makeDynamicAxis = false;
    var firstTimeMultipleCombos = true;
    var firstTimeCombos = true;
    
    // all selected taxonomy and specimen from sunburst
    var selection = [];
    // all created filters
	var filters = [];
    // all selected specimen that fit the filters created
    var filteredSelection = ["all"];
    
	// svg for selected specimen visualization
	var svg_selected_specimens = d3.select("#selected_view").append("svg")
            .attr("width", $("#selected_view").width())
            .attr("height", 700)
			.append("g");
    
	// svg for showing visualization of the selection
	var svg_selected = d3.select("#sel_viz").append("svg")
            .attr("width", $("#sel_viz").width())
            .attr("height", 700)
			.append("g");
            
    // creating sunburst
    var sunburst = new Sunburst;
    sunburst.create();
    
    var selectedSpecimenViz = new SelectedSpecimens();
    selectedSpecimenViz.create();
    
    // creating scatterplot comboboxes and checkbox for dynamic axis
    initializeComboboxes();
	
    // creating multiple combobxes for parallel coordinates
	var multipleCombos = new MultipleComboboxes();
	multipleCombos.initialize();
	multipleCombos.hide();
	
    // creating filter popup
	var filterPopup = new FilterPopup();
	filterPopup.create();
    
    // creating text with number of selected for each selected species
    var selectedNumber = new numberOfSelectedViz();
	
    // hiding maps div and showing normal visualization div
	document.getElementById("maps").style = "display:none;";
    document.getElementById("sel_viz").style = "display:none;";


</script>
</body>
</html>