<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" type="text/css" href="css/style.css">
<head>
    <title>Taxonomy Browser</title>
    <meta charset="utf-8">
    <link rel="icon" href="images/icon_site.png">
	
    <!--BOOTSTRAP-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    
    <!--D3-->
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script type='text/javascript' src="http://bost.ocks.org/mike/fisheye/fisheye.js?0.0.3"> </script>
    
    <!--VISUALIZATION FILES-->
    <script type="text/javascript" src="js/visualizations/sunburst.js"></script>
    <script type="text/javascript" src="js/visualizations/dotsVisualization.js"></script>
	<script type="text/javascript" src="js/visualizations/mapVisualization.js"></script>
    <script type="text/javascript" src="js/visualizations/selectedSpecimens.js"></script>
	<script type="text/javascript" src="js/visualizations/numberOfSelectedViz.js"></script>
	<script type="text/javascript" src="js/visualizations/parallelCoordinates.js"></script>
    
	<!-- DATABASE INTERFACE -->
	<script type="text/javascript" src="js/databaseInterface/characters.js"></script>
	<script type="text/javascript" src="js/databaseInterface/login.js"></script>
	<script type="text/javascript" src="js/databaseInterface/databaseInterface.js"></script>
	<script type="text/javascript" src="js/databaseInterface/ranks.js"></script>	
	
	
	<!-- POPUPS -->
	<script type="text/javascript" src="js/popups/specimenPopup.js"></script>
	<script type="text/javascript" src="js/popups/taxonomyPopup.js"></script>
	<script type="text/javascript" src="js/popups/addTaxonomyPopup.js"></script>
	<script type="text/javascript" src="js/popups/addSpecimenPopup.js"></script>
	<script type="text/javascript" src="js/popups/analysisPopup.js"></script>
	<script type="text/javascript" src="js/popups/charactersManagerPopup.js"></script>

	<!--OTHER-->
	<script type="text/javascript" src="js/utilities/events.js"></script>
	<script type="text/javascript" src="js/utilities/comboboxHandler.js"></script>
	<script type="text/javascript" src="js/utilities/input.js"></script>
	<script type="text/javascript" src="js/utilities/filter.js"></script>
	<script type="text/javascript" src="js/utilities/export.js"></script>
	
	<!-- TUTORIAL -->
	<script type="text/javascript" src="js/utilities/tutorial.js"></script>
	<link href="libs/introjs230/introjs.css" rel="stylesheet">
	<script type="text/javascript" src="libs/introjs230/intro.js"></script>
    <!--<link href="../assets/css/bootstrap-responsive.min.css" rel="stylesheet">-->
	
	<!-- OTHER LIBS -->
	<script type="text/javascript" src="libs/loadingBar.js"></script>
	<script type="text/javascript" src="libs/randomColor-master/randomColor.js"></script>
	
    
	
	
    
    <!--JQUERY-->
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>-->
	
    <!-- MAP -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpZxJKdEeziVgiM26XP7sh51GwmtBpPBg"type="text/javascript"></script>
    <!--<script language="javascript" src="https://maps.googleapis.com/maps/api/js?sensor=true&v=3"></script>-->
    
	<!-- TOOLTIP -->
	<link href="libs/tooltip/jquery.toolbar.css" rel="stylesheet" />
	<script src="libs/tooltip/jquery.toolbar.js"></script>
     <link rel="stylesheet" href="libs/fontAwesome/css/font-awesome.min.css">
	
</head>
<body>

<!-- MENU 
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	
	<div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
		</button>
		<a class="navbar-brand" rel="home" href="#">Taxonomy Browser</a>
	</div>
	
	<div class="collapse navbar-collapse">
		
		<ul class="nav navbar-nav">
			<li><a href="#" onClick="return makeCharactersManagerPopup();">Characteristics</a></li>
			<li><a href="#" onClick="return exportSelection();">Export Selected Specimens</a></li>
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">More Options <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Clean Database and Import New Data</a></li>
                <li class="divider"></li>
                <li><a href="#">About</a></li>
              </ul>
            </li>
		</ul>

		<div class="col-sm-1 col-md-1 pull-right">
			<button type="button" class="btn btn-default navbar-btn" onClick="return showLoginPopup();">Login</button>
		</form>
		</div>
		
	</div>
</div>-->

<!-- TESTANDO NOVO MENU -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container"> 
        <div class="navbar-header">
            <a target="_blank" href="#" class="navbar-brand">Taxonomy Browser</a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li><a href="#" id="charactersManager" onClick="return makeCharactersManagerPopup();">
					<span class="glyphicon glyphicon-cog"></span>
					Characteristics Manager
				</a></li><!--
                <li><a href="#" onClick="return exportSelection();">
					<span class="glyphicon glyphicon-download-alt"></span>
					Export Selected Specimens</a>
				</li>
				<li><a href="#" onClick="return showAnalysisPopup();">
					<span class="glyphicon glyphicon-signal"></span>
					Analysis on Selected Specimens</a>
				</li>-->
				<!--
                 <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">More Options<span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li> <a href="#">Clean Database and Import New Data</a></li>
                        <li><a href="#">About</a></li>
                    </ul>
                 </li>   -->           
             </ul>
            <ul class="nav navbar-nav navbar-right">
			
				<li><a href="#" id="loginButton" onClick="return showLoginPopup();">
					<span class="glyphicon glyphicon-log-in"></span>
					Login
				</a></li>
				
                <li class="dropdown"  id="userTab" style="display:none">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <span class="glyphicon glyphicon-user"></span>
                        <span id="welcomeUserString"><strong>Welcome, Pessoa</strong></span>
                        <span class="glyphicon glyphicon-chevron-down"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li>
                            <div class="navbar-login">
                                <div class="row">
                                    <div class="col-lg-4">
                                        <p class="text-center">
                                            <span class="glyphicon glyphicon-user icon-size"></span>
                                        </p>
                                    </div>
                                    <div class="col-lg-8">
                                        <p class="text-left" id="fullnameString"><strong>Full Name</strong></p>
                                        <p class="text-left small" id="emailString">Email</p>
                                        <p class="text-left small" id="roleString">Nivel</p>
                                        <p class="text-left">
                                            <a href="#" class="btn btn-primary btn-block btn-sm" onClick="return changeUsersInfo();">Update Information</a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="divider navbar-login-session-bg"></li>
                        <li>
							<div class="navbar-login navbar-login-session">
								<div class="row">
									<div class="col-lg-12">
										<p>
											<a href="#" class="btn btn-danger btn-block" onClick="return logout();">Logout</a>
										</p>
									</div>
								</div>
							</div>
						</li>
                    </ul>
                </li> 
				
				<li><a href="#" id="tutorialButton" href="javascript:void(0);" onClick="startIntro();">
					<span  class="glyphicon glyphicon-info-sign"></span>
					Tour
				</a></li>
				
            </ul>
        </div>
    </div>
</div>


<!-- PARA O DOWNLOAD DO ARQUIVO -->
<iframe id="my_iframe" style="display:none;"></iframe>

<div class="container-fluid">

    <div class="row">
        <h5> ----</h5>
        
    </div>

    <div class="row">
        <div class="col-sm-4" style="text-align: center" >
            <!--<img name="taxtreetitle" src="images/taxonomyTree.png" width="300" height="50" border="0" title="here you can select by right-clicking any specimen you want to visualize">-->
            <h2><b><font color="#bf83ea">Taxonomy Tree</font></b></h2> 
        </div>
        <div class="col-sm-2" style="text-align: center">
            <!--<img name="filteringtitle" src="images/filtering.png" width="180" height="50" border="0" title="here you can filter the selected specimen you want to visualize">-->
			<h2><b><font color="#75C9FF">Specimens</font></b></h2>
		</div>
        <div class="col-sm-6" style="text-align: center">
            <!--<img name="viztitle" src="images/visualization.png" width="300" height="45" border="0" title="here you can see the visualizations!">-->
			<h2><b><font color="#89DE78">Visualizations</font></b></h2> <!-- #b5f279 -->
		</div>
    </div>
    
	<!-- SETTINGS -->
	<div class="row">
        <!-- radio buttons to select type of partitioning made in sunburst -->
        <div class="col-sm-4" id="taxtreeoptions" style="background-color:#bf83ea;webkit-border-radius: 11px;border-radius: 15px;text-align: center">
            <img name="byspecies" id="byspecies" src="images/species2.png" width="220" height="80" border="0" alt="javascript button" onClick="return showSunburstbySpecies();" title="partition taxonomy tree by number of species">
            <img name="byspecimen" id="byspecimen" src="images/specimen.png" width="220" height="80" border="0" alt="javascript button" onClick="return showSunburstbySpecimen();" title="partition taxonomy tree by number of specimens">
        <!--
            <div class="col-sm-2" style="text-align: center" >
                
                <label><input type="radio" name="mode" value="count" style="vertical-align: bottom;" autocomplete="off"> By number of species</label>
            </div>
            <div class="col-sm-2"style="text-align: center" >
                <label><input type="radio" name="mode" value="size" style="vertical-align: bottom;" autocomplete="off" checked > By number of specimens</label>
                
            </div>-->
            
        </div>
        
        <!-- icons for filtering -->
		<div class="col-sm-2" id="filteringoptions" style="background-color:#75C9FF;webkit-border-radius: 11px;border-radius: 15px;text-align: center">
			<!--<img name="filterRemoveButton" src="images/filter_remove.png" width="80" height="80" border="0" alt="javascript button" onClick="return removeFilters();" title="remove all filters from selection"> -->
			<img name="analysis" id="analysis" src="images/analysis_button_round.png" width="80" height="80" border="0" alt="javascript button" onClick="return showAnalysisPopup();" title="analysis of selected specimens"> 
			<img name="filterEditButton" id="filterEditButton" src="images/filter_edit.png" width="80" height="80" border="0" alt="javascript button" onClick="return openFilters();" title="filter manager">
			<img name="export" id="export" src="images/export_button_round.png" width="80" height="80" border="0" alt="javascript button" onClick="return exportSelection();" title="export selected specimens"> 
            <!--<img name="filterUpdateButton" src="images/filter_update.png" width="64" height="64" border="0" alt="javascript button" onClick="return applyFilters();">	-->	
		</div>
        <!-- icons for selecting wich visualization to show -->
        <div class="col-sm-6" id="vizoptions"  style="background-color:#b5f279;webkit-border-radius: 11px;border-radius: 15px;text-align: center">
            <!--<img name="bars" src="images/bars.png" width="180" height="140" border="0" alt="javascript button" onClick="return showBars();"style= " border: 4px solid yellow;border-radius: 38px;" >-->
            <!--<img name="matrix" src="images/matriz.png" width="180" height="140" border="0" alt="javascript button" onClick="return addNode();"style=" border: 4px solid #6D6D6D;border-radius: 38px;" >-->
            <img name="coord" id="coord" src="images/coord2.png" width="110" height="80" border="0" alt="javascript button" onClick="return showParallelCoord();" title="show parallel coordinates visualization" >
            <img name="dots" id="dots" src="images/bullets2.png" width="110" height="80" border="0" alt="javascript button" onClick="return showDots();" title="show scatterplot visualization">
            <img name="map" id="map" src="images/map2.png" width="110" height="80" border="0" alt="javascript button" onClick="return showMap();" title="show map visualization">
            
        </div>
        

		
	</div>
	
    <div class="row">
        <h5></h5>
    </div>
    
	<!-- VISUALIZATIONS -->
	<div class="row" >
        <!-- sunburst -->
		<div class="col-sm-4"  id="viz" style="text-align:center" data-toolbar="user-options" ></div>
        <!-- specimens selected -->
		<div class="col-sm-2"  id="selected_view" ></div>
        <!-- other visualizations -->
		<div class="col-sm-6" id="right_viz" style="text-align:center">
            <!-- image that shows when there is nothing selected -->
				<p style='text-align:center;'><img name="nosel"  src="images/no_selection.png" border="0" style="display:flex;justify-content:center;align-items:center;"></p>

            <!-- image that shows when the filter removes all specimens -->
				<p style='text-align:center;'><img name="nofiltersel"  src="images/no_filter_selection.png" border="0" style="display:none;justify-content:center;align-items:center;"></p>
            
            
            <!-- visualizations -->
            <div id="sel_viz" ></div>
            <!-- google maps API -->
            <div id="maps"> </div>
		</div>
			
	</div>
  
  <!-- CHOOSING VISUALIZATION -->
    <div class="row">
        <div class="col-sm-4" style="text-align:center"></div>
        
        <!--
        <div class="col-sm-2" style="text-align:center">
            <img name="analysis" src="images/analysis_button.png" width="128" height="128" border="0" alt="javascript button" onClick="return showAnalysisPopup();">
        </div>-->
        <!-- text with number of specimens selected by filtering -->
        <div class="col-sm-2" style="text-align:center">
            <div id="number_sel_viz" ></div>
            
        </div>
        <!-- comboboxes for selecting variables to visualize -->
        <div class="col-sm-6"  id="comboboxes" style="text-align: center"></div>
    
    </div>

</div>
<!-- TOOLTIPS -->
<div id="tooltip" class="hidden">
    <p><strong><span id="name">100</span></strong></p>
	<!--<img name="infoButton" data-toggle="modal" data-target="#basicModal" src="images/info.png" width="32" height="32" border="0" alt="javascript button" onClick="return showNodeInfo();">
    <img name="addButton" data-toggle="modal" data-target="#basicModal" src="images/add.png" width="32" height="32" border="0" alt="javascript button" onClick="return addNode();">
    <img name="editButton" src="images/edit3.png" width="32" height="32" border="0" alt="javascript button" onClick="return editNode();">
	<img name="removeButton" src="images/remove.png" width="32" height="32" border="0" alt="javascript button" ><!--onClick="return removeNode();">-->
</div>

<!-- PROGRESS BAR -->


<div id="toolbar-options" class="hidden">
   <a id="tooltip_info" href="#"><i class="fa fa-info" ></i></a>
   <a id="tooltip_add" href="#"><i class="fa fa-plus" ></i></a>
   <a id="tooltip_edit" href="#"><i class="fa fa-pencil" ></i></a>
</div>

<!-- POPUP MODAL SPECIMENS-->
<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <!-- title -->
            <div class="modal-header" id="hder">
				
                <div class="col-sm-6" >
                    <h4 class="modal-title" id="myModalLabel"></h4>
                </div>
                <div class="col-sm-4" ></div>
                
                <div class="col-sm-1" >
                    <img name="editSpecimenButton" id="editSpecimenButton" src="images/edit3.png" width="64" height="64" border="0" alt="javascript button" title="edit specimen information">
                </div>
                <div class="col-sm-1" >
                    <img name="removeSpecimenButton" id="removeSpecimenButton" src="images/trash_button.png" width="64" height="64" border="0" alt="javascript button" title="delete specimen from the database">
                </div>
				
            </div>
            <!-- info -->
            <div class="modal-body"  class="col-sm-12" id="info-body">
				<div id="info_text" class="col-sm-12" ></div>
                <ul class="nav nav-tabs" id="measures_tab_list"></ul>
                <div class="tab-content" id="measures_tab_content"></div>
            </div>
            <!-- buttons -->
            <div class="modal-footer">
                <div class="col-sm-10" ></div>
                <div class="col-sm-1" >
                    <button type="button" class="btn btn-default" data-dismiss="modal" style="text-align:left">Close</button>
                </div>
                <div class="col-sm-1" >
                    <button id="submitButton" type="button" class="btn btn-primary" style="display:none">Submit</button>
                </div>
                
        </div>
    </div>
  </div>
</div>

<!-- POPUP MODAL ANALYSIS-->
<div class="modal fade" id="analysisModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <!-- title -->
            <div class="modal-header" id="hder">
                <div class="col-sm-6" >
                    <h4 class="modal-title" id="analysisModalLabel"></h4>
                </div>
                <div class="col-sm-2" ></div>
                <div class="col-sm-4"  id="espacoembranco" style="text-align:right;margin-top: 20px;"></div>	
            </div>
            <!-- info -->
            <div class="modal-body" id="info-body">
                <div class="row">
                    <div class="col-sm-2" ></div>
                    <div class="col-sm-8">
                        <div id="counting_title" style="text-align:center;"></div>
                        <div class="well" id="counting_text" style="text-align:center;"></div>
                        
                        <div id="analysis_title" style="text-align:center;"></div>
						<div id="analysis_combos" style="text-align:center;"></div>
                        <div class="well" id="analysis_text" style="text-align:center;"></div>
                    </div>
                    <div class="col-sm-2" ></div>
                </div>
				
            </div>
            <!-- buttons -->
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
    </div>
  </div>
</div>

<!-- POPUP MODAL FILTERS-->
<div class="modal fade" id="filterModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <!-- title -->
            <div class="modal-header" id="hder">
				<h4 class="modal-title" id="filterModalLabel"></h4>
            </div>
            <!-- info -->
            <div class="modal-body" id="info-body">
				<div id="filters_info" style="text-align: center"></div>
				<div id="filters_add_button" style="text-align: left"></div>
            </div>
            <!-- buttons -->
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onClick="applyFilters();">Apply Filters</button>
        </div>
    </div>
  </div>
</div>

<!--login modal-->
<div id="loginModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
	<div class="modal-dialog">
	<div class="modal-content">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<h1 class="text-center">Login</h1>
		</div>
		<div class="modal-body">
		
			<div id="loginErrorAlert" class="alert alert-danger" role="alert" style="display:none">
				<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
				<span class="sr-only">Error:</span>Invalid username or password.
			</div>
			
          <form class="form col-md-12 center-block">
            <div class="form-group">
              <input id="username" type="text" required=true class="form-control input-lg" placeholder="Username">
            </div>
            <div class="form-group">
              <input id="password" type="password" required=true class="form-control input-lg" placeholder="Password">
            </div>
            <div class="form-group">
              <button class="btn btn-primary btn-lg btn-block" onClick="submitLoginPopup()">Sign In</button>
              <span class="pull-right"><a href="#" onClick="createNewUser()">Register</a></span>
			  <span><a href="#" onClick="resetUsersPassword()">Forgot Password?</a></span>
            </div>
          </form>
      </div>
      <div class="modal-footer">
          <div class="col-md-12">
          <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
		  </div>	
      </div>
  </div>
  </div>
</div>

<!--login configuration modal-->
<div id="loginConfigurationModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
	<div class="modal-dialog">
	<div class="modal-content">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<h1 class="text-center" id="loginConfigModalTitle">User Information</h1>
		</div>
		<div class="modal-body">
		
			<div id="informationErrorAlert" class="alert alert-danger" role="alert" style="display:none">
				<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
				<span class="sr-only">Error:</span> <a id="informationErrorAlertText" style="color:inherit;text-decoration: none">Invalid password.</a>
			</div>
			
          <form class="form col-md-12 center-block">
            <div class="form-group">
              <input id="usernameConfig" type="text" required=true class="form-control input-lg" placeholder="Username">
            </div>
			<div class="form-group">
              <input id="fullnameConfig" type="text" required=true class="form-control input-lg" placeholder="Full Name">
            </div>
			<div class="form-group">
              <input id="emailConfig" type="email" required=true class="form-control input-lg" placeholder="Email">
            </div>
			<div class="form-group">
              <input id="oldPasswordConfig" type="password" required=true class="form-control input-lg" placeholder="Current Password">
            </div>
            <div class="form-group">
              <input id="passwordConfig" type="password" required=true class="form-control input-lg" placeholder="New Password">
            </div>
			<div class="form-group">
              <input id="passwordConfirmationConfig" type="password" required=true class="form-control input-lg" placeholder="Confirm New Password">
            </div>
            <div class="form-group">
              <button class="btn btn-primary btn-lg btn-block" id="loginConfigSubmitButton" onClick="submitChangesInUser()">Submit</button>
            </div>
          </form>
      </div>
      <div class="modal-footer">
          <div class="col-md-12">
          <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
		  </div>	
      </div>
  </div>
  </div>
</div>

<script>

    var comboX;
    var comboY;
    var comboSize;
    var comboColor;
	
    var dynamicCheckbox;
    var dynamicCheckboxText;
    var makeDynamicAxis = false;
    var firstTimeMultipleCombos = true;
    var firstTimeCombos = true;
    var userLoggedIn;
    
    // all selected taxonomy and specimen from sunburst
    var selection = [];
    // all created filters
	var filters = [];
    // all selected specimen that fit the filters created
    var filteredSelection = ["all"];
    
	// svg for selected specimen visualization
	var svg_selected_specimens = d3.select("#selected_view").append("svg")
            .attr("width", $("#selected_view").width())
            .attr("height", 700)
			.append("g");
    
	// svg for showing visualization of the selection
	var svg_selected = d3.select("#sel_viz").append("svg")
            .attr("width", $("#sel_viz").width())
            .attr("height", 700)
			.append("g");
    
	var allCharactersList = new Characters();
	//allCharactersList.createFile();
	allCharactersList.createList();
	
	
	var allRanksList = new Ranks();
	//allRanksList.createFile();
	allRanksList.createList();
	
	setTimeout(function()
	{
		allCharactersList.createCharTypesList();
	}, 250);
	
    // creating sunburst
    var sunburst = new Sunburst();
    //sunburst.create();
    
    var selectedSpecimenViz = new SelectedSpecimens();
    selectedSpecimenViz.create();
    
    // creating scatterplot comboboxes and checkbox for dynamic axis
    initializeComboboxes();
	
    // creating multiple combobxes for parallel coordinates
	var multipleCombos = new MultipleComboboxes();
	multipleCombos.initialize();
	multipleCombos.hide();
	
    // creating filter popup
	var filterPopup = new FilterPopup();
	filterPopup.create();
    
    // creating text with number of selected for each selected species
    //var selectedNumber = new numberOfSelectedViz();
    
    // creating analysis
    var analysis = new Analysis();
    analysis.createPopup();
	
    // hiding maps div and showing normal visualization div
	document.getElementById("maps").style = "display:none;";
    document.getElementById("sel_viz").style = "display:none;";
    
    createHierarchyFile();
    //resetPassword("lol");
	
    
</script>
</body>
</html>